<div class="container-fluid">
    <div class="row">
        <div class="row">
            <h2>Submit Request</h2>
        </div>
        <div class="row">
          <div class="col-4">
            <form #importerRequestForm="ngForm" (ngSubmit)="onSubmit(importerRequestForm)">
              <div class="form-group">
                  <label for="deliveryAddress">Delivery Address</label>
                  <input type="text" class="form-control" id="deliveryAddress" name="deliveryAddress" ngModel required >
                </div>
                <div class="form-group">
                  <label for="phone">Phone</label>
                  <input type="text" class="form-control" id="phone" name="phone" ngModel required >
                </div>
                <div class="form-group">
                  <label for="email">Email</label>
                  <input type="email" class="form-control" id="email" name="email" ngModel required >
                </div>
                <div class="form-group">
                  <label for="selectedBank">Select Bank</label>
                  <select class="form-control" id="selectedBank" name="bankName" ngModel required>
                    <option value="">Choose Bank</option>
                    <option value="bank01">Bank 01</option>
                    <option value="bank02">Bank 02</option>
                    <option value="bank03">Bank 03</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="selectedBankAccountNumber">Select AccoutNumber</label>
                  <select class="form-control" id="selectedBank" name="bankAccountNumber" required ngModel >
                    <option value="">Choose Bank</option>
                    <option value="accountNumber01">accountNumber01</option>
                    <option value="accountNumber02">accountNumber02</option>
                    <option value="accountNumber03">accountNumber03</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="selectedExporter">Select Exporter</label>
                  <select class="form-control" id="selectedExporter" name="exporterName" ngModel required  >
                    <option value="">Choose Exporter</option>
                    <option value="exporter01">Exporter 01</option>
                    <option value="exporter02">Exporter 02</option>
                    <option value="exporter03">Exporter 03</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="goods">Goods</label>
                  <input type="text" class="form-control" id="goods" name="goods" ngModel required >
                </div>
                <div class="form-group">
                  <label for="amount">Amount(kg)</label>
                  <input type="number" class="form-control" id="amount" name="amount" ngModel  required >
                </div>
                <button type="submit" [disabled]="importerRequestForm.invalid" class="btn btn-primary">Request</button>
            </form>
          </div>
          <div class="col-4">
            <h4>Find request: </h4>
            <select class="form-control" (change)="onSelectEmail($event)">
              <option value="">Select Email</option>
                <option *ngFor="let mail of listOfEmails" value="{{mail}}">{{mail}}</option>
            </select>
            <div class="row">
              <div class="col-md-auto">
                <table class="table">
                  <thead>
                    <tr>
                      <th scope="col">#</th>
                      <th scope="col">Request Date</th>
                      <th scope="col">Delivery Address</th>
                      <th scope="col">email</th>
                      <th scope="col">phone</th>
                      <th scope="col">goods</th>
                      <th scope="col">amount</th>
                      <th scope="col">Status</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let request of listOfRequests">
                      <td>{{request.id}}</td>
                      <td>{{request.creationDate}}</td>
                      <td>{{request.deliveryAddress}}</td>
                      <td>{{request.email}}</td>
                      <td>{{request.phone}}</td>
                      <td>{{request.goods}}</td>
                      <td>{{request.amount}}</td>
                      <td>{{request.requestStatus}}</td>
                      <td>
                        <button type="button" (click)="showRequestHistory(request.id!)" class="btn btn-primary">Show History</button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="row" [hidden]="isHidden">
              <h4>Transaction History</h4>
              <div class="col-md-auto">
                <table class="table">
                  <thead>
                    <tr>
                      <th scope="col">Status Date</th>
                      <th scope="col">Status</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let history of transactionHistory">
                      <td>{{history?.statusDate}}</td>
                      <td>{{history?.status}}</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
  </div>
